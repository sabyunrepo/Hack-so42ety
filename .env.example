# ==============================================
# MoriAI Storybook Service - Environment Variables
# ==============================================

# ==================== Application ====================
APP_ENV=development  # development, staging, production
DEBUG=true
LOG_LEVEL=INFO

# ==================== Server Ports ====================
BACKEND_PORT=8000
FRONTEND_PORT=5173

# ==================== Database (PostgreSQL) ====================
POSTGRES_USER=moriai_user
POSTGRES_PASSWORD=moriai_secure_password_change_me
POSTGRES_DB=moriai_db
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# SQLAlchemy Database URL (자동 생성됨)
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# ==================== JWT Authentication ====================
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production-min-32-chars
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ==================== Google OAuth 2.0 ====================
GOOGLE_OAUTH_CLIENT_ID=your-google-oauth-client-id.apps.googleusercontent.com
GOOGLE_OAUTH_CLIENT_SECRET=your-google-oauth-client-secret
GOOGLE_OAUTH_REDIRECT_URI=http://localhost:8000/auth/google/callback

# ==================== AI Providers ====================
# Story Generation
AI_STORY_PROVIDER=google  # google, openai, custom
GOOGLE_API_KEY=your-google-gemini-api-key

# TTS (Text-to-Speech)
AI_TTS_PROVIDER=elevenlabs  # elevenlabs, custom
ELEVENLABS_API_KEY=your-elevenlabs-api-key
TTS_DEFAULT_VOICE_ID=TxWD6rImY3v4izkm2VL0
TTS_DEFAULT_MODEL_ID=eleven_v3
TTS_DEFAULT_LANGUAGE=en

# Image Generation
AI_IMAGE_PROVIDER=google  # google, custom
# Google AI 사용 시 GOOGLE_API_KEY 공유

# Video Generation
AI_VIDEO_PROVIDER=kling  # kling, custom
KLING_ACCESS_KEY=["your-kling-access-key-1", "your-kling-access-key-2"]
KLING_SECRET_KEY=["your-kling-secret-key-1", "your-kling-secret-key-2"]
KLING_API_URL=https://api-singapore.klingai.com
KLING_MODEL_NAME=kling-v2-1
KLING_VIDEO_MODE=std  # std or pro
KLING_VIDEO_DURATION=5  # 5 or 10
KLING_KEY_COOLDOWN_SECONDS=300
KLING_MAX_CONCURRENT=3
KLING_POLLING_INTERVAL=10
KLING_MAX_POLLING_TIME=600

# ==================== Storage ====================
STORAGE_PROVIDER=local  # local, s3
STORAGE_BASE_PATH=/app/data

# AWS S3 (if STORAGE_PROVIDER=s3)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET_NAME=moriai-storybook-bucket
AWS_S3_REGION=ap-northeast-2

# ==================== CORS ====================
CORS_ORIGINS=http://localhost:5173,http://localhost:3000
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=*

# ==================== Cloudflare Tunnel ====================
CLOUDFLARE_TUNNEL_TOKEN=your-cloudflare-tunnel-token

# ==================== Feature Flags ====================
USE_TEMPLATE_MODE=false  # true: 템플릿 사용, false: AI 생성

# ==================== HTTP Client ====================
HTTP_TIMEOUT=60.0
HTTP_READ_TIMEOUT=300.0
HTTP_MAX_CONNECTIONS=10

# ==================== Testing ====================
TEST_DATABASE_URL=postgresql+asyncpg://test_user:test_password@postgres:5432/test_db

#====================== redis =====================
REDIS_HOST=redis
REDIS_PROT=6379